WT_DECLARE_WT_MEMBER(1,JavaScriptConstructor,"WSuggestionPopup",function(q,f,B,H,r,w,C,x,d){function e(a){return $(a).hasClass("Wt-suggest-onedit")||$(a).hasClass("Wt-suggest-dropdown")}function j(){return f.style.display!="none"}function k(a){f.style.display="block";c.positionAtWidget(f.id,a.id,c.Vertical)}function s(a){a=c.target(a||window.event);if(!c.hasTag(a,"UL")){for(;a&&!c.hasTag(a,"LI");)a=a.parentNode;a&&y(a)}}function y(a){var b=a.firstChild.firstChild,g=c.getElement(i),h=b.innerHTML;b=
b.getAttribute("sug");g.focus();B(g,h,b);q.emit(f,"select",a.id,g.id);m();i=null}function m(){f.style.display="none";if(i!=null&&D!=null){c.getElement(i).onkeydown=D;D=null}}function M(a){if(typeof c.theme==="object"&&c.theme.type==="bootstrap"&&c.theme.version===5)try{var b=getComputedStyle(a),g=parseInt(b.backgroundSize.match(/^([0-9]+)px ([0-9]+)px$/)[1],10),h=parseInt(b.backgroundPositionX.match(/^calc[(]100% - ([0-9]+)px[)]$/)[1],10);return g+h}catch(u){return 28}else return 16}function S(a){var b=
f.childNodes;for(n=a?b[0]:b[b.length-1];n;n=a?n.nextSibling:n.previousSibling)if(c.hasTag(n,"LI")&&n.style.display!="none")return n;return null}function T(a,b){for(a=b?a.nextSibling:a.previousSibling;a;a=b?a.nextSibling:a.previousSibling)if(c.hasTag(a,"LI"))if(a.style.display!="none")return a;return null}function I(a){var b=a.parentNode;if(a.offsetTop+a.offsetHeight>b.scrollTop+b.clientHeight)b.scrollTop=a.offsetTop+a.offsetHeight-b.clientHeight;else if(a.offsetTop<b.scrollTop)b.scrollTop=a.offsetTop}
$(".Wt-domRoot").add(f);f.wtObj=this;var t=this,c=q.WT,o=null,i=null,N=false,E=null,O=null,P=w,F=null,G=null,z=false;this.defaultValue=C;var D=null;this.showPopup=function(a){f.style.display="block";t.bringToFront();G=o=null;D=a.onkeydown;a.onkeydown=function(b){t.editKeyDown(this,b||window.event)}};this.bringToFront=function(){var a=c.maxZIndex();if(a>f.style.zIndex)f.style.zIndex=a+1};this.editMouseMove=function(a,b){if(e(a))if(c.widgetCoordinates(a,b).x>a.offsetWidth-M(a)){a.classList&&a.classList.add("Wt-suggest-dropdown-hover");
a.style.cursor="default"}else{a.classList&&a.classList.remove("Wt-suggest-dropdown-hover");a.style.cursor=""}};this.showAt=function(a,b){m();i=a.id;z=true;t.refilter(b)};this.editClick=function(a,b){if(e(a))if(c.widgetCoordinates(a,b).x>a.offsetWidth-M(a))if(i!=a.id||!j())t.showAt(a,"");else{m();i=null}};this.editKeyDown=function(a,b){if(!e(a))return true;if(i!=a.id)if($(a).hasClass("Wt-suggest-onedit")){i=a.id;z=false}else if($(a).hasClass("Wt-suggest-dropdown")&&b.keyCode==40){i=a.id;z=true}else{i=
null;return true}if(j()){var g=o?c.getElement(o):null;if(b.keyCode==13||b.keyCode==9){if(g){y(g);c.cancelEvent(b);setTimeout(function(){a.focus()},0)}else m();return false}else if(b.keyCode==40||b.keyCode==38||b.keyCode==34||b.keyCode==33){if(b.type.toUpperCase()=="KEYDOWN"){N=true;c.cancelEvent(b,c.CancelDefaultAction)}if(b.type.toUpperCase()=="KEYPRESS"&&N==true){c.cancelEvent(b);return false}var h=g,u=b.keyCode==40||b.keyCode==34;if(h){b=b.keyCode==34||b.keyCode==33?f.clientHeight/g.offsetHeight:
1;var p;for(p=0;h&&p<b;++p){var v=T(h,u);if(!v&&d)break;h=v}}else{h=S(u);I(h)}if(g){g.className="";o=null}if(h&&c.hasTag(h,"LI")){h.className="active";if(typeof q.theme==="object"&&q.theme.type==="bootstrap"&&q.theme.version>=4){g.firstChild.className=g.firstChild.className.replace("active","");h.firstChild.className+=" active"}o=h.id}return false}}return b.keyCode!=13&&b.keyCode!=9};this.filtered=function(a,b){E=a;P=b;t.refilter(G)};this.refilter=function(a){if(i){var b=o?c.getElement(o):null,g=
c.getElement(i),h=H(g),u=f.childNodes,p=x&&a!=null?a:h(null);G=x?a:g.value;if(r>0||w)if(p.length<r&&!z){m();return}else{a=P?p:p.substring(0,Math.max(E!==null?E.length:0,r));if(a!=E)if(a!=O){O=a;q.emit(f,"filter",a)}}var v=a=null;p=z&&p.length==0;var A,Q;A=0;for(Q=u.length;A<Q;++A){var l=u[A];if(c.hasTag(l,"LI")){var J=l.firstChild;if(l.orig==null)l.orig=J.firstChild.innerHTML;var K=h(l.orig),U=p||K.match;if(K.suggestion!=J.firstChild.innerHTML)J.firstChild.innerHTML=K.suggestion;if(U){if(l.style.display!=
"")l.style.display="";if(a==null)a=l;if(A==this.defaultValue)v=l}else if(l.style.display!="none")l.style.display="none";if(l.className!="")l.className=""}}if(a==null)m();else{if(!j()){k(g);t.showPopup(g);b=null}if((d||v)&&(!b||b.style.display=="none")){b=v||a;b.parentNode.scrollTop=0;o=b.id}if(b){b.className="active";if(typeof c.theme==="object"&&c.theme.type==="bootstrap"&&c.theme.version>=4)b.firstChild.className+=" active";I(b)}}}};this.editKeyUp=function(a,b){if(i!=null)if(e(a))if(!(!j()&&(b.keyCode==
13||b.keyCode==9)))if(b.keyCode==27||b.keyCode==37||b.keyCode==39)m();else if(!(b.keyCode==40||b.keyCode==38||b.keyCode==34||b.keyCode==33))if(a.value!=G){i=a.id;t.refilter(a.value)}else(a=o?c.getElement(o):null)&&I(a)};f.onclick=s;f.onscroll=function(){if(F){clearTimeout(F);var a=c.getElement(i);a&&a.focus()}};this.delayHide=function(a){F=setTimeout(function(){F=null;if(f&&(a==null||i==a.id))m()},300)}});
WT_DECLARE_WT_MEMBER(2,JavaScriptConstructor,"WSuggestionPopupStdMatcher",function(q,f,B,H,r,w,C){function x(d){var e=d.value;d=d.selectionStart?d.selectionStart:e.length;for(var j=B?e.lastIndexOf(B,d-1)+1:0;j<d&&H.indexOf(e.charAt(j))!=-1;)++j;return{start:j,end:d}}this.match=function(d){var e=x(d),j=d.value.substring(e.start,e.end),k;if(w.length==0)if(r.length!=0){k="(^|(?:[";for(d=0;d<r.length;++d){for(e=r.charCodeAt(d).toString(16);e.length<4;)e="0"+e;k+="\\u"+e}k+="]))"}else k="(^)";else k="("+
w+")";k+="("+j.replace(new RegExp("([\\^\\\\\\][\\-.$*+?()|{}])","g"),"\\$1")+")";k=new RegExp(k,"gi");return function(s){if(!s)return j;var y=false;if(j.length){var m=s.replace(k,"$1"+q+"$2"+f);if(m!=s){y=true;s=m}}return{match:y,suggestion:s}}};this.replace=function(d,e,j){e=x(d);var k=d.value.substring(0,e.start)+j+C;if(e.end<d.value.length)k+=d.value.substring(e.end,d.value.length);d.value=k;if(d.selectionStart){d.selectionStart=e.start+j.length+C.length;d.selectionEnd=d.selectionStart}}});
